@using Microsoft.AspNetCore.Identity



@inject SignInManager<IdentityUser> _signInManager
@inject UserManager<IdentityUser> _userManager

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/css/form_user.css" />

    <link href="~/css/crear.css" rel="stylesheet" />

    <title>@ViewBag.Title</title>
</head>

<body>

    @*<nav class="nav navbar-expand-sm bg-light navbar-dark">
        <ul class="navbar nav">
            <li class="nav-item active">
                <a asp-controller="Account" asp-action="Registrar">
                    Crear Usuario
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Perfil</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Sign out</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">Inactivo</a>
            </li>
        </ul>

    </nav>*@


    @* Navbar para dispositivos mayores al smartphone *@
    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <!-- Brand -->
        <a class="navbar-brand" href="#">Poligato</a>

        <!-- Toggler/collapsibe Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar links -->
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                @if (_signInManager.IsSignedIn(User))
                {
                    <li class="nav-item">
                        <a class="nav-link bg-danger" asp-controller="Account" asp-action="Login">Bienvenido @User.Identity.Name</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link bg-danger" asp-controller="Account" asp-action="Logout">Salir</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Roles" asp-action="CrearRoles">Agregar Nuevo role?</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Roles" asp-action="RolesView">Lista roles</a>
                    </li>

                  
                }
                else
                {
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Account" asp-action="Login">Iniciar Session</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Account" asp-action="Registrar">Usuario Nuevo?</a>
                    </li>


                }

            </ul>
        </div>
    </nav>

    <div>
        @RenderBody()
    </div>
</body>
</html>
