@*@using Microsoft.AspNetCore.Identity*@



@*@inject SignInManager<IdentityUser> _signInManager
@inject UserManager<IdentityUser> _userManager
@inject RoleManager<IdentityRole> _roleManager*@

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/css/form_user.css" />

    @*<link href="~/css/crear.css" rel="stylesheet" />*@

    <title>@ViewBag.Title</title>
</head>

<body>

   

    @* Navbar para dispositivos mayores al smartphone *@

    @*<nav class="navbar navbar-expand-md bg-dark navbar-dark">
        
        <a class="navbar-brand" href="#">Poligato</a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>

    
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                @if (_signInManager.IsSignedIn(User))
                {
                    <li class="nav-item">
                        <a class="nav-link bg-danger" asp-controller="Account" asp-action="Login">Bienvenido @User.Identity.Name</a>
                    </li>

                    <li class="nav-item">
                        <a type="submit" class="nav-link bg-danger" asp-controller="Account" asp-action="Salir">Salir</a>
                    </li>

                    <li class="nav-item">
                        <a type="submit" class="nav-link bg-danger" asp-controller="Account" asp-action="ActualizarUser">Actualizar Nombre usuario</a>
                    </li>


                    @if (User.IsInRole("Admin"))
                    {
                        <li class="nav-item">
                            <a class="nav-link" asp-controller="Roles" asp-action="CrearRoles">Agregar Nuevo role?</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" asp-controller="Roles" asp-action="RolesView">Lista roles</a>
                        </li>
                    }@

                }
                else
                {

                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Account" asp-action="Login">Iniciar Session</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" asp-controller="Account" asp-action="Registrar">Nuevo Usuario?</a>
                    </li>

                }

            </ul>
        </div>
    </nav>*@

    <div>
        @RenderBody()
    </div>
</body>
</html>
